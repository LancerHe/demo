(function($){$.fn.slideshow=function(options){var defaults={pauseSeconds:5,fadeSpeed:0.5,width:280,height:210,caption:true,cssClass:'slideshowlite',after:false};var options=$.extend(defaults,options);var target=this;var items=$(target).children("a");var instance;if(!$(this).hasClass(options.cssClass))$(this).addClass(options.cssClass);$(this).css({width:options.width+"px",height:options.height+"px"});$(this).children("img").wrap(document.createElement("a"));$(this).children("a").attr("target","blank");var i=1;$(this).children("a").each(function(){$(this).attr("rel",i++);});var pagination,caption;if(options.after==true){$(this).after("<div class=\"slideshowlite-nav\"></div>");var nav=$(this).next("div");nav.css({width:options.width+"px"});nav.append("<ol></ol>");nav.append("<ul></ul>");caption=nav.children("ol");pagination=nav.children("ul");}
else{$(this).append("<ol></ol>");$(this).append("<ul></ul>");caption=$(this).children("ol");pagination=$(this).children("ul");}
var i=1;var j=0;$(this).children("a").each(function(){pagination.append("<li><a href=\"javascript:void(0)\" title=\""+i+"\">"+i+"</a></li>");caption.append("<li>"+"<a href=\""+this.href+"\" target=\"_blank\""+">"+$("#"+$(target).attr("id")+" a img:nth("+j+++")").attr("alt")+"</a>"+"</li>");i++;});$(this).children("a").hover(function(){clearInterval(instance);},function(){restartSlideshow();});pagination.children("li").hover(function(){clearInterval(instance);currentItem=$(target).children("a:nth("+($(this).text()-1)+")");showSlide();},function(){restartSlideshow();});var firstItem=$(target).children("a:first");var lastItem=$(target).children("a:last");var currentItem=firstItem;var paginationHighlight=function(sequence){pagination.children("li").children("a").removeClass("current");pagination.children("li").children("a:nth("+sequence+")").addClass("current");};var showCaption=function(sequence){caption.show();caption.children("li").hide();caption.children("li:nth("+sequence+")").show();};var showSlide=function(){paginationHighlight(currentItem.attr("rel")-1);if(options.caption==true){showCaption(currentItem.attr("rel")-1);}
$(target).children("a").hide();currentItem.show().css("z-index",0);};var makeSlideshow=function(){paginationHighlight(currentItem.attr("rel")-1);if(options.caption==true){showCaption(currentItem.attr("rel")-1);}
currentItem.fadeIn(options.fadeSpeed*1000,function(){$(target).children("a").hide();$(this).show().css("z-index",0);});if(currentItem.children("img").attr("src")==lastItem.children("img").attr("src")){currentItem=firstItem;currentItem.css("z-index",1);}
else{currentItem=currentItem.nextAll("a:first");}};var startSlideshow=function(){clearInterval(instance);makeSlideshow();instance=setInterval(makeSlideshow,options.pauseSeconds*1000);};var restartSlideshow=function(){clearInterval(instance);instance=setInterval(makeSlideshow,options.pauseSeconds*1000);};startSlideshow();};})(jQuery);